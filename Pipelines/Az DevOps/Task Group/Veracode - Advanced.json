{"tasks":[{"environment":{},"displayName":"Cria o pacote","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"inputs":{"rootFolderOrFile":"$(Agent.BuildDirectory)","includeRootFolder":"true","archiveType":"zip","sevenZipCompression":"normal","tarCompression":"gz","archiveFile":"$(caminhoPacote)","replaceExistingArchive":"true","verbose":"false","quiet":"false"},"task":{"id":"d8b84976-e99a-4b86-b885-4849694435b0","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"Veracode U&S","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"inputs":{"ConnectionDetailsSelection":"Credentials","AnalysisService":"","apiId":"$(VeracodeID)","apiKey":"$(VeracodeKey)","veracodeAppProfile":"$(veracodeAppProfile)","version":"$(build.buildNumber)","filepath":"$(caminhoPacote)","sandboxName":"","createSandBox":"false","optargs":"","createProfile":"true","failBuildIfUploadAndScanBuildStepFails":"false","importResults":"false","failBuildOnPolicyFail":"false","maximumWaitTime":"360"},"task":{"id":"6292a058-d4f5-407b-b6c6-815df9ee59d6","versionSpec":"3.*","definitionType":"task"}},{"environment":{},"displayName":"Veracode SCA - Componentes de Terceiros","alwaysRun":false,"continueOnError":true,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"inputs":{"targetType":"inline","filePath":"","arguments":"","script":"Invoke-Expression ((New-Object System.Net.WebClient).DownloadString('https://download.srcclr.com/ci.ps1'))\n$env:SRCCLR_SCM_NAME = \"$(veracodeAppProfile)\"\n$env:SRCCLR_API_TOKEN = \"$(VeracodeSCA)\"\nsrcclr scan --update-advisor --allow-dirty\n","errorActionPreference":"stop","warningPreference":"default","informationPreference":"default","verbosePreference":"default","debugPreference":"default","progressPreference":"silentlyContinue","failOnStderr":"false","showWarnings":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":"","runScriptInSeparateScope":"false"},"task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"Configurando - Veracode Pipeline Scan","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"inputs":{"targetType":"inline","filePath":"","arguments":"","script":"$urlDownload = \"https://downloads.veracode.com/securityscan/pipeline-scan-LATEST.zip\"\n$caminhoDownload = \"VeracodePipeline.zip\" # Define um caminho para o arquivo de download\nInvoke-WebRequest -Uri \"$urlDownload\" -OutFile \"$caminhoDownload\" # Faz o download\nExpand-Archive -Path \"$caminhoDownload\" -DestinationPath \"$(Build.ArtifactStagingDirectory)\"\n","errorActionPreference":"stop","warningPreference":"default","informationPreference":"default","verbosePreference":"default","debugPreference":"default","progressPreference":"silentlyContinue","failOnStderr":"false","showWarnings":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":"","runScriptInSeparateScope":"false"},"task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"Veracode PipelineScan - SAST","alwaysRun":false,"continueOnError":true,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"inputs":{"targetType":"inline","filePath":"","arguments":"","script":"java -jar $(Build.ArtifactStagingDirectory)/pipeline-scan.jar -vid $(VeracodeID) -vkey $(VeracodeKey) --file '$(caminhoPacote)' --issue_details true\n","errorActionPreference":"stop","warningPreference":"default","informationPreference":"default","verbosePreference":"default","debugPreference":"default","progressPreference":"silentlyContinue","failOnStderr":"false","showWarnings":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":"","runScriptInSeparateScope":"false"},"task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"}}],"runsOn":["Agent","DeploymentGroup"],"revision":8,"createdBy":{"displayName":"Ivo Dias","id":"bb8961b9-f454-699f-a68f-6f424a751c27","uniqueName":"igd753@gmail.com"},"createdOn":"2023-04-04T14:01:57.127Z","modifiedBy":{"displayName":"Ivo Dias","id":"bb8961b9-f454-699f-a68f-6f424a751c27","uniqueName":"igd753@gmail.com"},"modifiedOn":"2023-05-17T22:56:57.230Z","comment":"","id":"7eac7345-7787-4f34-a6a0-e79c8f8977fd","name":"Veracode - Advanced","version":{"major":1,"minor":0,"patch":0,"isTest":false},"iconUrl":"https://cdn.vsassets.io/v/M219_20230330.10/_content/icon-meta-task.png","friendlyName":"Veracode - Advanced","description":"Essa task foi desenhada para fazer todas as etapas, mas n√£o quebrar caso encontre falhas","category":"Utility","definitionType":"metaTask","author":"Ivo Dias","demands":[],"groups":[],"inputs":[{"aliases":[],"options":{},"properties":{},"name":"caminhoPacote","label":"caminhoPacote","defaultValue":"$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"veracodeAppProfile","label":"veracodeAppProfile","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"VeracodeID","label":"VeracodeID","defaultValue":"","required":true,"type":"string","helpMarkDown":"Enter your Veracode API ID. For instructions on generating your API credentials, go to the Veracode Help Center and search for \"Generate Veracode API Credentials\".","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"VeracodeKey","label":"VeracodeKey","defaultValue":"","required":true,"type":"string","helpMarkDown":"Enter your Veracode API key. For instructions on generating your API credentials, go to the Veracode Help Center and search for \"Generate Veracode API Credentials\".","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"VeracodeSCA","label":"VeracodeSCA","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""}],"satisfies":[],"sourceDefinitions":[],"dataSourceBindings":[],"instanceNameFormat":"Task group: Veracode - Advanced $(caminhoPacote)","preJobExecution":{},"execution":{},"postJobExecution":{},"_buildConfigMapping":{}}